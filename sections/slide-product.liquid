{{ 'section-product.css' | asset_url | stylesheet_tag }}

{% style %}
  #Slide-product-{{ section.id }}{}
{% endstyle %}

<div
  id="Slide-product-{{ section.id }}"
  style="--bg-color: {{ section.settings.bg_color }}"
  class="slide-product">
  <p
    class="slide-product__sub-title">
    {{ section.settings.sub_title }}
  </p>
  <h2
    class="slide-product__title">
    {{ section.settings.title }}
  </h2>

  <div
    class="slide-product-container">
    <slider-component
      class="slider-mobile-gutter{% if section.settings.full_width %} slider-component-full-width{% endif %}{% if show_mobile_slider == false %} page-width{% endif %}{% if show_desktop_slider == false and section.settings.full_width == false %} page-width-desktop{% endif %}{% if show_desktop_slider %} slider-component-desktop{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
      <ul
        id="Slider-{{ section.id }}"
        class="card-product-container grid product-grid contains-card contains-card--product{% if settings.card_style == 'standard' %} contains-card--standard{% endif %} grid--{{ section.settings.columns_desktop }}-col-desktop{% if section.settings.collection == blank %} grid--2-col-tablet-down{% else %} grid--{{ section.settings.columns_mobile }}-col-tablet-down{% endif %}{% if show_mobile_slider or show_desktop_slider %} slider{% if show_desktop_slider %} slider--desktop{% endif %}{% if show_mobile_slider %} slider--tablet grid--peek{% endif %}{% endif %}">
        {%- for product in section.settings.collection.products limit: 5 -%}
          <li
            id="Slide-{{ section.id }}-{{ forloop.index }}"
            class="card-product-item
            grid__item{% if show_mobile_slider or show_desktop_slider %}
              slider__slide{% endif %}
            {% if settings.animations_reveal_on_scroll %}
              scroll-trigger animate--slide-in{% endif %}"
            {% if settings.animations_reveal_on_scroll %}data-cascadestyle="--animation-order: {{ forloop.index }};"{% endif %}>
            {% render 'card-product2' 
             , card_product: product,
             media_aspect_ratio: section.settings.image_ratio,
             image_shape: section.settings.image_shape,
             show_secondary_image: section.settings.show_secondary_image,
             show_vendor: section.settings.show_vendor,
             show_rating: section.settings.show_rating,
             show_quick_add: section.settings.enable_quick_add,
             section_id: section.id %}
          </li>
        {%- endfor -%}
      </ul>
    </slider-component>

  </div>

</div>

{% schema %}
  {
    "name": "Slide Product",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
      }, {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
      }, {
        "type": "text",
        "id": "sub_title",
        "label": "Subtitle",
        "default": "Handcrafted"
      }, {
        "type": "inline_richtext",
        "id": "title",
        "label": "Title",
        "default": "Best Sellers"
      }
    ],
    "blocks": [],
    "presets": [
      {
        "name": "Slide Product"
      }
    ]
  }
{% endschema %}